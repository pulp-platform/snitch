From 76a8f8f66c79980909020dc95e5b132ad7da24bf Mon Sep 17 00:00:00 2001
From: Nils Wistoff <nwistoff@iis.ee.ethz.ch>
Date: Wed, 22 Mar 2023 17:20:01 +0100
Subject: [PATCH] cva6/sram: Use tc_sram_impl

Signed-off-by: Nils Wistoff <nwistoff@iis.ee.ethz.ch>
---
 core/cache_subsystem/cva6_icache.sv   | 4 ++--
 core/cache_subsystem/std_nbdcache.sv  | 6 +++---
 core/cache_subsystem/wt_dcache_mem.sv | 4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/core/cache_subsystem/cva6_icache.sv b/core/cache_subsystem/cva6_icache.sv
index 86779b7a..6dd677d8 100644
--- a/core/cache_subsystem/cva6_icache.sv
+++ b/core/cache_subsystem/cva6_icache.sv
@@ -433,7 +433,7 @@ end else begin : gen_piton_offset
 
   for (genvar i = 0; i < ICACHE_SET_ASSOC; i++) begin : gen_sram
     // Tag RAM
-    tc_sram #(
+    tc_sram_impl #(
       .impl_in_t ( sram_cfg_t         ),
       // tag + valid bit
       .DataWidth ( ICACHE_TAG_WIDTH+1 ),
@@ -458,7 +458,7 @@ end else begin : gen_piton_offset
     assign vld_rdata[i]    = cl_tag_valid_rdata[i][ICACHE_TAG_WIDTH];
 
     // Data RAM
-    tc_sram #(
+    tc_sram_impl #(
       .impl_in_t ( sram_cfg_t        ),
       .DataWidth ( ICACHE_LINE_WIDTH ),
       .NumWords  ( ICACHE_NUM_WORDS  ),
diff --git a/core/cache_subsystem/std_nbdcache.sv b/core/cache_subsystem/std_nbdcache.sv
index b497b7b0..824ec898 100644
--- a/core/cache_subsystem/std_nbdcache.sv
+++ b/core/cache_subsystem/std_nbdcache.sv
@@ -192,7 +192,7 @@ import std_cache_pkg::*;
     // Memory Arrays
     // --------------
     for (genvar i = 0; i < DCACHE_SET_ASSOC; i++) begin : sram_block
-        tc_sram #(
+        tc_sram_impl #(
             .impl_in_t ( sram_cfg_t                         ),
             .DataWidth ( DCACHE_LINE_WIDTH                  ),
             .NumWords  ( DCACHE_NUM_WORDS                   ),
@@ -210,7 +210,7 @@ import std_cache_pkg::*;
             .*
         );
 
-        tc_sram #(
+        tc_sram_impl #(
             .impl_in_t ( sram_cfg_t                         ),
             .DataWidth ( DCACHE_TAG_WIDTH                   ),
             .NumWords  ( DCACHE_NUM_WORDS                   ),
@@ -246,7 +246,7 @@ import std_cache_pkg::*;
         assign rdata_ram[i].valid = dirty_rdata[8*i+1];
     end
 
-    tc_sram #(
+    tc_sram_impl #(
         .impl_in_t ( sram_cfg_t                       ),
         .DataWidth ( 4*DCACHE_DIRTY_WIDTH             ),
         .NumWords  ( DCACHE_NUM_WORDS                 ),
diff --git a/core/cache_subsystem/wt_dcache_mem.sv b/core/cache_subsystem/wt_dcache_mem.sv
index ea576f19..aee71913 100644
--- a/core/cache_subsystem/wt_dcache_mem.sv
+++ b/core/cache_subsystem/wt_dcache_mem.sv
@@ -286,7 +286,7 @@ module wt_dcache_mem import ariane_pkg::*; import wt_cache_pkg::*; #(
 
   for (genvar k = 0; k < DCACHE_NUM_BANKS; k++) begin : gen_data_banks
     // Data RAM
-    tc_sram #(
+    tc_sram_impl #(
       .impl_in_t ( sram_cfg_t ),
       .DataWidth ( ariane_pkg::DCACHE_SET_ASSOC * riscv::XLEN ),
       .NumWords  ( wt_cache_pkg::DCACHE_NUM_WORDS             ),
@@ -313,7 +313,7 @@ module wt_dcache_mem import ariane_pkg::*; import wt_cache_pkg::*; #(
     assign rd_vld_bits_o[i] = vld_tag_rdata[i][DCACHE_TAG_WIDTH];
 
     // Tag RAM
-    tc_sram #(
+    tc_sram_impl #(
       .impl_in_t  ( sram_cfg_t                       ),
       // tag + valid bit
       .DataWidth ( ariane_pkg::DCACHE_TAG_WIDTH + 1 ),
-- 
2.16.5

